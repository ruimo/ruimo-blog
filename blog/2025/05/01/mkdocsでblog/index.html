
<!doctype html>
<html lang="ja" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
        <link rel="canonical" href="https://ruimo.github.io/ruimo-blog/blog/2025/05/01/mkdocs%E3%81%A7blog/">
      
      
        <link rel="prev" href="../../../04/30/%E7%A9%B4%E3%81%82%E3%81%91%E3%82%AC%E3%82%A4%E3%83%89%E3%82%92%E8%B2%B7%E3%81%A3%E3%81%A6%E3%81%BF%E3%81%9F/">
      
      
        <link rel="next" href="../../02/analog-discovery-3/">
      
      
        <link rel="alternate" type="application/rss+xml" title="新しいページのRSSフィード" href="../../../../../feed_rss_created.xml">
        <link rel="alternate" type="application/rss+xml" title="更新されたページのRSSフィード" href="../../../../../feed_rss_updated.xml">
      
      <link rel="icon" href="../../../../../assets/images/favicon.ico">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.6.12">
    
    
      
        <title>MkDocsでBlog - るいもの戯れ言</title>
      
    
    
      <link rel="stylesheet" href="../../../../../assets/stylesheets/main.2afb09e1.min.css">
      
        
        <link rel="stylesheet" href="../../../../../assets/stylesheets/palette.06af60db.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../../../../../stylesheets/extra.css">
    
    <script>__md_scope=new URL("../../../../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  
  <div id="google_translate_element"></div>
  <script type="text/javascript" src="https://translate.google.com/translate_a/element.js?cb=googleTranslateElementInit"></script>
  <script type="text/javascript" src="../../../../../javascripts/translate.js"></script>
  
    <meta property="og:image" content="https://ruimo.github.io/ruimo-blog/assets/images/default-ogp.png" />
    <meta name="twitter:image" content="https://ruimo.github.io/ruimo-blog/assets/images/default-ogp.png" />
  
  <meta property="og:title" content="MkDocsでBlog" />
  <meta property="og:type" content="website" />
  <meta name="twitter:card" content="summary_large_image" />

  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="indigo" data-md-color-accent="indigo">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#mkdocsblog" class="md-skip">
          コンテンツにスキップ
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      <!--
  Copyright (c) 2016-2025 Martin Donath <martin.donath@squidfunk.com>

  Permission is hereby granted, free of charge, to any person obtaining a copy
  of this software and associated documentation files (the "Software"), to
  deal in the Software without restriction, including without limitation the
  rights to use, copy, modify, merge, publish, distribute, sublicense, and/or
  sell copies of the Software, and to permit persons to whom the Software is
  furnished to do so, subject to the following conditions:

  The above copyright notice and this permission notice shall be included in
  all copies or substantial portions of the Software.

  THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
  IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
  FITNESS FOR A PARTICULAR PURPOSE AND NON-INFRINGEMENT. IN NO EVENT SHALL THE
  AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
  LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
  FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS
  IN THE SOFTWARE.
-->

<!-- Determine classes -->


  


<!-- Header -->
<header class="md-header md-header--shadow" data-md-component="header">
  <nav
    class="md-header__inner md-grid"
    aria-label="ヘッダー"
  >

    <!-- Link to home -->
    <a
      href="../../../../.."
      title="るいもの戯れ言"
      class="md-header__button md-logo"
      aria-label="るいもの戯れ言"
      data-md-component="logo"
    >
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>

    <!-- Button to open drawer -->
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>

    <!-- Header title -->
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            <a href='https://ruimo.github.io/ruimo-blog/'>るいもの戯れ言</a>
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              MkDocsでBlog
            
          </span>
        </div>
      </div>
    </div>

    <!-- Color palette toggle -->
    
      
        <form class="md-header__option" data-md-component="palette">
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme: light)" data-md-color-scheme="default" data-md-color-primary="indigo" data-md-color-accent="indigo"  aria-label="Switch to dark mode"  type="radio" name="__palette" id="__palette_0">
    
      <label class="md-header__button md-icon" title="Switch to dark mode" for="__palette_1" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M17 7H7a5 5 0 0 0-5 5 5 5 0 0 0 5 5h10a5 5 0 0 0 5-5 5 5 0 0 0-5-5m0 8a3 3 0 0 1-3-3 3 3 0 0 1 3-3 3 3 0 0 1 3 3 3 3 0 0 1-3 3"/></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme: dark)" data-md-color-scheme="slate" data-md-color-primary="indigo" data-md-color-accent="indigo"  aria-label="Switch to light mode"  type="radio" name="__palette" id="__palette_1">
    
      <label class="md-header__button md-icon" title="Switch to light mode" for="__palette_0" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M17 6H7c-3.31 0-6 2.69-6 6s2.69 6 6 6h10c3.31 0 6-2.69 6-6s-2.69-6-6-6m0 10H7c-2.21 0-4-1.79-4-4s1.79-4 4-4h10c2.21 0 4 1.79 4 4s-1.79 4-4 4M7 9c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3"/></svg>
      </label>
    
  
</form>
      
    

    <!-- User preference: color palette -->
    
      <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    

    <!-- Site language selector -->
    

    <!-- Button to open search modal -->
    
      

      <!-- Check if search is actually enabled - see https://t.ly/DT_0V -->
      
        <label class="md-header__button md-icon" for="__search">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        </label>

        <!-- Search interface -->
        <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="検索" placeholder="検索" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="検索">
        
        <button type="reset" class="md-search__icon md-icon" title="クリア" aria-label="クリア" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            検索を初期化
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
      
    

    <!-- Repository information -->
    
  </nav>

  <!-- Navigation tabs (sticky) -->
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
                
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" hidden>
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    



<nav class="md-nav md-nav--primary" aria-label="ナビゲーション" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../../../../.." title="るいもの戯れ言" class="md-nav__button md-logo" aria-label="るいもの戯れ言" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    るいもの戯れ言
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../.." class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
      
        
          
        
      
        
      
        
      
    
    
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2" checked>
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../../../../" class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    Blog
    
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_2" id="__nav_2_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_2">
            <span class="md-nav__icon md-icon"></span>
            Blog
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    
    
      
        
      
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_2" >
        
          
          <label class="md-nav__link" for="__nav_2_2" id="__nav_2_2_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    過去の投稿
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_2">
            <span class="md-nav__icon md-icon"></span>
            過去の投稿
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
    
  
  
    <li class="md-nav__item">
      <a href="../../../../archive/2025/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    2025
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_3" >
        
          
          <label class="md-nav__link" for="__nav_2_3" id="__nav_2_3_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    カテゴリー
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_3">
            <span class="md-nav__icon md-icon"></span>
            カテゴリー
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
    
  
  
    <li class="md-nav__item">
      <a href="../../../../category/analog-discovery-3/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Analog Discovery 3
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    
  
  
    <li class="md-nav__item">
      <a href="../../../../category/%E8%B6%85%E9%9F%B3%E6%B3%A2%E6%B4%97%E6%B5%84%E5%99%A8/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    超音波洗浄器
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3" >
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../../../../../diy/" class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    DIY
    
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_3" id="__nav_3_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3">
            <span class="md-nav__icon md-icon"></span>
            DIY
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../../diy/uv211/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    UV-211 アンプ製作記
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../../diy/joystick/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    ジョイスティックを作ろう
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="https://ruimo.github.io/auto_power_off/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    自動電源offスイッチ
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="https://ruimo.github.io/attiny10-blink/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    ATtiny10マイコン
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="https://ruimo.github.io/ch32v003try/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    CH32V003マイコン
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="https://r8c-m1x0a.github.io/univ_tester/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    万能導通テスター
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="https://ruimo.github.io/audioswitcher/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    オーディオスイッチャー
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
          
        
      
        
      
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4" >
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../../../../../tools/" class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    Tools
    
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_4" id="__nav_4_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4">
            <span class="md-nav__icon md-icon"></span>
            Tools
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../../tools/genbar/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    バーコード生成
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
      
        
      
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5" >
        
          
          <label class="md-nav__link" for="__nav_5" id="__nav_5_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Piano
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5">
            <span class="md-nav__icon md-icon"></span>
            Piano
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    
    
      
        
      
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5_1" >
        
          
          <label class="md-nav__link" for="__nav_5_1" id="__nav_5_1_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Beethoven
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_5_1_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5_1">
            <span class="md-nav__icon md-icon"></span>
            Beethoven
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5_1_1" >
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../../../../../piano/Beethoven/PianoSonata/" class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    Piano Sonata
    
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_5_1_1" id="__nav_5_1_1_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_5_1_1_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5_1_1">
            <span class="md-nav__icon md-icon"></span>
            Piano Sonata
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../../piano/Beethoven/PianoSonata/no01/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    ベートーヴェン ピアノ ソナタ 第1番
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../../piano/Beethoven/PianoSonata/no02/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    ベートーヴェン ピアノ ソナタ第2番
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../../piano/Beethoven/PianoSonata/no03/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    ベートーヴェン ピアノソナタ第3番
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../../piano/Beethoven/PianoSonata/no04/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    べートーヴェン ピアノ・ソナタ第4番
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../../piano/Beethoven/PianoSonata/no05/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    ベートーヴェン ピアノ・ソナタ 第5番
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../../piano/Beethoven/PianoSonata/no06/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    ベートーヴェン ピアノソナタ第6番
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../../piano/Beethoven/PianoSonata/no07/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    ベートーヴェン ピアノソナタ 第7番
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../../piano/Beethoven/PianoSonata/no08/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    ベートーヴェン ピアノソナタ 第8番「悲愴」
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../../piano/Beethoven/PianoSonata/no09/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    ベートーヴェン ピアノ・ソナタ第9番
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../../piano/Beethoven/PianoSonata/no10/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    ベートーヴェン ピアノ・ソナタ第10番
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../../piano/Beethoven/PianoSonata/no11/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    ベートーヴェン ピアノソナタ第11番
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../../piano/Beethoven/PianoSonata/no12/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    ベートーヴェン ピアノソナタ第12番
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../../piano/Beethoven/PianoSonata/no13/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    ベートーヴェン ピアノ・ソナタ 第13番
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../../piano/Beethoven/PianoSonata/no14/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    ベートーヴェン ピアノ・ソナタ第14番「月光」
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../../piano/Beethoven/PianoSonata/no15/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    ベートーヴェン ピアノ・ソナタ 第15番
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../../piano/Beethoven/PianoSonata/no16/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    ベートーヴェン ピアノ・ソナタ 第16番
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../../piano/Beethoven/PianoSonata/no17/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    ベートーヴェン ピアノ・ソナタ 第17番
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../../piano/Beethoven/PianoSonata/no18/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    ベートーヴェン ピアノ・ソナタ第18番
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../../piano/Beethoven/PianoSonata/no19/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    ベートーヴェン ピアノ・ソナタ第19番
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../../piano/Beethoven/PianoSonata/no20/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    ベートーヴェン ピアノ・ソナタ 第20番
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../../piano/Beethoven/PianoSonata/no21/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    ベートーヴェン ピアノ・ソナタ 第21番 「ワルトシュタイン」
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../../piano/Beethoven/PianoSonata/no22/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    ベートーヴェン ピアノ・ソナタ 第22番
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../../piano/Beethoven/PianoSonata/no23/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    ベートーヴェン ピアノ・ソナタ 第23番「熱情」
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../../piano/Beethoven/PianoSonata/no24/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    ベートーヴェン ピアノ・ソナタ 第24番
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../../piano/Beethoven/PianoSonata/no25/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    ベートーヴェン ピアノ・ソナタ 第25番
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../../piano/Beethoven/PianoSonata/no26/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    ベートーヴェン ピアノ・ソナタ 第26番 「告別」
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../../piano/Beethoven/PianoSonata/no27/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    ベートーヴェン ピアノ・ソナタ 第27番
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../../piano/Beethoven/PianoSonata/no28/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    ベートーヴェン ピアノ・ソナタ 第28番
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../../piano/Beethoven/PianoSonata/no29/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    ベートーヴェン ピアノ・ソナタ 第29番「ハンマークラフィール」
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
        
      
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5_2" >
        
          
          <label class="md-nav__link" for="__nav_5_2" id="__nav_5_2_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Chopin
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_5_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5_2">
            <span class="md-nav__icon md-icon"></span>
            Chopin
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    
    
      
        
          
        
      
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5_2_1" >
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../../../../../piano/Chopin/Nocturne/" class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    Nocturne
    
  </span>
  

            </a>
            
          </div>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_5_2_1_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5_2_1">
            <span class="md-nav__icon md-icon"></span>
            Nocturne
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
          
        
      
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5_2_2" >
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../../../../../piano/Chopin/Prelude/" class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    Prelude
    
  </span>
  

            </a>
            
          </div>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_5_2_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5_2_2">
            <span class="md-nav__icon md-icon"></span>
            Prelude
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
          
        
      
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5_2_3" >
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../../../../../piano/Chopin/PianoMisc/" class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    Piano Misc
    
  </span>
  

            </a>
            
          </div>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_5_2_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5_2_3">
            <span class="md-nav__icon md-icon"></span>
            Piano Misc
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
                
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="目次">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      目次
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#material-plugin" class="md-nav__link">
    <span class="md-ellipsis">
      Material Plugin
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#blog" class="md-nav__link">
    <span class="md-ellipsis">
      Blog以外のコンテンツを置く
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_1" class="md-nav__link">
    <span class="md-ellipsis">
      テンプレート
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_2" class="md-nav__link">
    <span class="md-ellipsis">
      コメント
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#rss" class="md-nav__link">
    <span class="md-ellipsis">
      RSS
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#ogp" class="md-nav__link">
    <span class="md-ellipsis">
      OGP
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#github-pages" class="md-nav__link">
    <span class="md-ellipsis">
      GitHub Pagesに載せる
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
  <div class="md-content md-content--post" data-md-component="content">
    <div class="md-sidebar md-sidebar--post" data-md-component="sidebar" data-md-type="navigation">
      <div class="md-sidebar__scrollwrap">
        <div class="md-sidebar__inner md-post">
          <nav class="md-nav md-nav--primary">
            <div class="md-post__back">
              <div class="md-nav__title md-nav__container">
                <a href="../../../../" class="md-nav__link">
                  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
                  <span class="md-ellipsis">
                    ブログトップへ戻る
                  </span>
                </a>
              </div>
            </div>
            
            <ul class="md-post__meta md-nav__list">
              <li class="md-nav__item md-nav__item--section">
                <div class="md-post__title">
                  <span class="md-ellipsis">
                    メタデータ
                  </span>
                </div>
                <nav class="md-nav">
                  <ul class="md-nav__list">
                    <li class="md-nav__item">
                      <div class="md-nav__link">
                        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 19H5V8h14m-3-7v2H8V1H6v2H5c-1.11 0-2 .89-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V5a2 2 0 0 0-2-2h-1V1m-1 11h-5v5h5z"/></svg>
                        <time datetime="2025-05-01 00:00:00+00:00" class="md-ellipsis">2025年5月1日</time>
                      </div>
                    </li>
                    
                    
                    
                      
                      <li class="md-nav__item">
                        <div class="md-nav__link">
                          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 20a8 8 0 0 0 8-8 8 8 0 0 0-8-8 8 8 0 0 0-8 8 8 8 0 0 0 8 8m0-18a10 10 0 0 1 10 10 10 10 0 0 1-10 10C6.47 22 2 17.5 2 12A10 10 0 0 1 12 2m.5 5v5.25l4.5 2.67-.75 1.23L11 13V7z"/></svg>
                          <span class="md-ellipsis">
                            
                              このページは約3分で読めます
                            
                          </span>
                        </div>
                      </li>
                    
                  </ul>
                </nav>
              </li>
            </ul>
            
          </nav>
          
        </div>
      </div>
    </div>
    <article class="md-content__inner md-typeset">
      
        
  




<h1 id="mkdocsblog">MkDocsでBlog</h1>
<p>これまでのBlogは家のサーバで動かしていたのだが、そろそろGitHub Pagesで何とかできないものかと思っていた。静的コンテンツの配信だけなら何も問題無いのだが、それ以外にも以下が欲しい。</p>
<ul>
<li>コメント機能</li>
<li>RSS配信</li>
<li>OGP機能</li>
<li>Blog以外のコンテンツも一緒に置きたい</li>
</ul>
<p>色々と調べてみたところ、pluginを入れれば何とかなりそうなので移行してみた。</p>
<h2 id="material-plugin">Material Plugin</h2>
<p>まずは<a href="https://squidfunk.github.io/mkdocs-material/plugins/blog/">Material Plugin</a>。mkdocsはpipでインストールしておき、以下を実行。</p>
<div class="language-text highlight"><pre><span></span><code>mkdir blog
mkdocs new blog
</code></pre></div>
<p>こんな感じのディレクトリ構成になる。</p>
<div class="language-text highlight"><pre><span></span><code>.
├─ docs/
│  └─ blog/
│     ├─ posts/
│     └─ index.md
└─ mkdocs.yml
</code></pre></div>
<p>まずは、こんな感じのmkdocs.yml</p>
<div class="language-text highlight"><pre><span></span><code>plugins:
  - blog
      blog_dir: blog
theme:
  name: material
  features:
    - navigation.indexes
nav:
  - ...
  - Blog:
    - blog/index.md
</code></pre></div>
<p>あとはpostsの下に記事を書くと勝手に拾い上げてくれる。docs/blog/postsの下にhello-world.mdを作る。</p>
<div class="language-text highlight"><pre><span></span><code>---
draft: true 
date: 2024-01-31 
categories:
  - Hello
  - World
---

# Hello world!
</code></pre></div>
<h2 id="blog">Blog以外のコンテンツを置く</h2>
<p>docs/others.mdを作り以下のようにすると見える</p>
<div class="language-text highlight"><pre><span></span><code>nav:
  - Blog:
    - blog/index.md
  - others.md
</code></pre></div>
<h2 id="_1">テンプレート</h2>
<p>docs/templatesを作って、mkdocs.ymlで以下のように指定する。</p>
<div class="language-text highlight"><pre><span></span><code>theme:
  name: &#39;material&#39;
  custom_dir: &#39;docs/templates&#39;
</code></pre></div>
<p>この下にblog-post.htmlを作っておく。とりあえず<a href="https://github.com/squidfunk/mkdocs-material/blob/master/src/templates/blog-post.html">公式のもの</a>を拝借。</p>
<h2 id="_2">コメント</h2>
<p><a href="https://squidfunk.github.io/mkdocs-material/setup/adding-a-comment-system/">Giscusを使ったコメント機能がある</a></p>
<p>コメントはGitHubアカウントが必要なので、これによってコメント荒しの予防になるようだ。</p>
<p>まず<a href="https://github.com/apps/giscus">Giscus</a>をGitHubにインストール。</p>
<p>Blogを格納するレポジトリをGitHubに作る。今回はhttps://github.com/ruimo/ruimo-blog</p>
<p>SettingsでFeaturesでDiscussionsをチェックして、Set up discussionsをクリック</p>
<p><a href="https://giscus.app/ja#repository">Giscus</a>のページに行き、レポジトリを設定(ruimo/ruimo-blog)</p>
<p>カテゴリにAnnouncementsを選択。</p>
<p>「giscusを有効にする」にあるsnippetをコピーする。内容はこんな感じのもの。</p>
<div class="language-text highlight"><pre><span></span><code>&lt;script src=&quot;https://giscus.app/client.js&quot;
        data-repo=&quot;ruimo/ruimo-blog&quot;
...
        data-lang=&quot;ja&quot;
        crossorigin=&quot;anonymous&quot;
        async&gt;
&lt;/script&gt;
</code></pre></div>
<p>docs/templates/partials/comments.htmlを作る。この時、<code>&lt;!-- Insert generated snippet here --&gt;</code>の部分に上記のsnippetをペーストする</p>
<div class="language-text highlight"><pre><span></span><code>{% if page.meta.comments %}
  &lt;h2 id=&quot;__comments&quot;&gt;{{ lang.t(&quot;meta.comments&quot;) }}&lt;/h2&gt;
&lt;script src=&quot;https://giscus.app/client.js&quot;
        data-repo=&quot;ruimo/ruimo-blog&quot;
...
        data-lang=&quot;ja&quot;
        crossorigin=&quot;anonymous&quot;
        async&gt;
&lt;/script&gt;

  &lt;!-- Synchronize Giscus theme with palette --&gt;
  &lt;script&gt;
    var giscus = document.querySelector(&quot;script[src*=giscus]&quot;)

    // Set palette on initial load
    var palette = __md_get(&quot;__palette&quot;)
    if (palette &amp;&amp; typeof palette.color === &quot;object&quot;) {
      var theme = palette.color.scheme === &quot;slate&quot;
        ? &quot;transparent_dark&quot;
        : &quot;light&quot;

      // Instruct Giscus to set theme
      giscus.setAttribute(&quot;data-theme&quot;, theme) 
    }

    // Register event handlers after documented loaded
    document.addEventListener(&quot;DOMContentLoaded&quot;, function() {
      var ref = document.querySelector(&quot;[data-md-component=palette]&quot;)
      ref.addEventListener(&quot;change&quot;, function() {
        var palette = __md_get(&quot;__palette&quot;)
        if (palette &amp;&amp; typeof palette.color === &quot;object&quot;) {
          var theme = palette.color.scheme === &quot;slate&quot;
            ? &quot;transparent_dark&quot;
            : &quot;light&quot;

          // Instruct Giscus to change theme
          var frame = document.querySelector(&quot;.giscus-frame&quot;)
          frame.contentWindow.postMessage(
            { giscus: { setConfig: { theme } } },
            &quot;https://giscus.app&quot;
          )
        }
      })
    })
  &lt;/script&gt;
{% endif %}
</code></pre></div>
<p>これでコメント入力欄が付く。</p>
<h2 id="rss">RSS</h2>
<p>pluginがあるのでmkdocsに以下のように指定するだけ。</p>
<div class="language-text highlight"><pre><span></span><code>plugins:
  - blog
  - rss:
      abstract_chars_count: 160  # 概要の文字数
      date_from_meta:
        as_creation: date        # 作成日としてmeta情報の&#39;date&#39;を使用
        as_update: lastmod       # 更新日としてmeta情報の&#39;lastmod&#39;を使用
      image: https://example.com/image.png  # デフォルトアイキャッチ画像
      categories:
        - categories
        - tags
      comments_path: &quot;#__comments&quot;  # コメントセクションへのリンク（オプション）
      use_directory_url: true
</code></pre></div>
<h2 id="ogp">OGP</h2>
<p>pluginがあるものの、どうもうまく動かなかったのでテンプレートで作ってしまった。docs/templates/main.htmlを作る(生成AIに聞きながらコピペしただけなので、細かいところ間違っているかも)。</p>
<div class="language-text highlight"><pre><span></span><code>{% extends &quot;base.html&quot; %}

{% block extrahead %}
  {{ super() }}
  {% if page and page.meta and page.meta.image %}
    {% set image_path = page.meta.image %}

    {# URLからblogディレクトリだけを抽出 #}
    {% set content_type = page.url.split(&#39;/&#39;)[0] if page.url.split(&#39;/&#39;)[0] else &#39;&#39; %}

    {# 画像パスから不要な相対パス表記（./）を削除 #}
    {% set clean_image_path = image_path | replace(&#39;./&#39;, &#39;&#39;) %}

    {% if not image_path.startswith(&#39;/&#39;) and not image_path.startswith(&#39;http&#39;) %}
      &lt;meta property=&quot;og:image&quot; content=&quot;{{ config.site_url }}{{ content_type }}/{{ clean_image_path }}&quot; /&gt;
      &lt;meta name=&quot;twitter:image&quot; content=&quot;{{ config.site_url }}{{ content_type }}/{{ clean_image_path }}&quot; /&gt;
    {% else %}
      {# 絶対パスまたはHTTPで始まる完全なURLの場合はそのまま使用 #}
      &lt;meta property=&quot;og:image&quot; content=&quot;{% if image_path.startswith(&#39;/&#39;) %}{{ config.site_url | replace(&#39;/&#39;, &#39;&#39;, 1) }}{% endif %}{{ image_path }}&quot; /&gt;
      &lt;meta name=&quot;twitter:image&quot; content=&quot;{% if image_path.startswith(&#39;/&#39;) %}{{ config.site_url | replace(&#39;/&#39;, &#39;&#39;, 1) }}{% endif %}{{ image_path }}&quot; /&gt;
    {% endif %}
  {% else %}
    &lt;meta property=&quot;og:image&quot; content=&quot;{{ config.site_url }}assets/images/default-ogp.png&quot; /&gt;
    &lt;meta name=&quot;twitter:image&quot; content=&quot;{{ config.site_url }}assets/images/default-ogp.png&quot; /&gt;
  {% endif %}
  &lt;meta property=&quot;og:title&quot; content=&quot;{% if page.title %}{{ page.title }}{% else %}{{ config.site_name }}{% endif %}&quot; /&gt;
  &lt;meta property=&quot;og:type&quot; content=&quot;website&quot; /&gt;
  &lt;meta name=&quot;twitter:card&quot; content=&quot;summary_large_image&quot; /&gt;
{% endblock %}
</code></pre></div>
<p>あとは記事の中で以下のようにimage:を付ければ、それをOGPとして拾ってくれる。外部イメージならこのようにURLで、内部画像ならパスを書けば良い。</p>
<div class="language-text highlight"><pre><span></span><code>---
date: 2025-04-30
comments: true
image: https://ae-pic-a1.aliexpress-media.com/kf/S5b498f7963384bc3bcaa21c100f2a8faS.jpg_220x220q75.jpg_.avif
---
</code></pre></div>
<h2 id="github-pages">GitHub Pagesに載せる</h2>
<p>自分はGitHub Actionsでやった。このあたりは記事が沢山あるし生成AIに聞けば詳しく教えてくれる。.github/workflows/build.ymlを作成</p>
<div class="language-text highlight"><pre><span></span><code>name: ci 
on:
  push:
    branches:
      - main
permissions:
  contents: write
jobs:
  deploy:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v4
        with:
          fetch-depth: 0
      - name: Configure Git Credentials
        run: |
          git config user.name github-actions-bot
          git config user.email github-actions-bot@users.noreply.github.com
      - name: gh-deploy
        run: |
          git fetch
          git branch -a
          ./prepare.sh
          ./deploy.sh
</code></pre></div>
<p>中で使っているprepare.sh:</p>
<div class="language-text highlight"><pre><span></span><code>#!/bin/sh
docker build -t ruimo/mkdocs .
</code></pre></div>
<p>Dockerfile:</p>
<div class="language-text highlight"><pre><span></span><code>FROM squidfunk/mkdocs-material
RUN pip install python-markdown-math
</code></pre></div>
<p>deploy.sh:</p>
<div class="language-text highlight"><pre><span></span><code>#!/bin/sh
export U_ID=$(id -u)
export G_ID=$(id -g)
docker run -i --rm \
    -p 8040:8040 \
    --user $U_ID:$G_ID \
    --workdir=&quot;/var/home&quot; \
    --env HOME=&quot;/var/home&quot; \
    --volume=&quot;$PWD:/var/home&quot; \
    --volume=&quot;/etc/group:/etc/group:ro&quot; \
    --volume=&quot;/etc/passwd:/etc/passwd:ro&quot; \
    --volume=&quot;/etc/shadow:/etc/shadow:ro&quot; ruimo/mkdocs gh-deploy
</code></pre></div>
<p><a href="https://github.com/ruimo/ruimo-blog">全てのファイルはこちら</a></p>
<p>拡張機能として、数式を書けるようにするやつとかdark mode用の設定とかを入れてある。</p>







  
  




  



  <h2 id="__comments">コメント</h2>
<script src="https://giscus.app/client.js"
        data-repo="ruimo/ruimo-blog"
        data-repo-id="R_kgDON3pwEQ"
        data-category="Announcements"
        data-category-id="DIC_kwDON3pwEc4Cm2vv"
        data-mapping="pathname"
        data-strict="0"
        data-reactions-enabled="1"
        data-emit-metadata="0"
        data-input-position="bottom"
        data-theme="preferred_color_scheme"
        data-lang="ja"
        crossorigin="anonymous"
        async>
</script>

  <!-- Synchronize Giscus theme with palette -->
  <script>
    var giscus = document.querySelector("script[src*=giscus]")

    // Set palette on initial load
    var palette = __md_get("__palette")
    if (palette && typeof palette.color === "object") {
      var theme = palette.color.scheme === "slate"
        ? "transparent_dark"
        : "light"

      // Instruct Giscus to set theme
      giscus.setAttribute("data-theme", theme) 
    }

    // Register event handlers after documented loaded
    document.addEventListener("DOMContentLoaded", function() {
      var ref = document.querySelector("[data-md-component=palette]")
      ref.addEventListener("change", function() {
        var palette = __md_get("__palette")
        if (palette && typeof palette.color === "object") {
          var theme = palette.color.scheme === "slate"
            ? "transparent_dark"
            : "light"

          // Instruct Giscus to change theme
          var frame = document.querySelector(".giscus-frame")
          frame.contentWindow.postMessage(
            { giscus: { setConfig: { theme } } },
            "https://giscus.app"
          )
        }
      })
    })
  </script>

      
    </article>
  </div>

          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
    
      
        
      
      <nav class="md-footer__inner md-grid" aria-label="フッター" >
        
          
          <a href="../../../04/30/%E7%A9%B4%E3%81%82%E3%81%91%E3%82%AC%E3%82%A4%E3%83%89%E3%82%92%E8%B2%B7%E3%81%A3%E3%81%A6%E3%81%BF%E3%81%9F/" class="md-footer__link md-footer__link--prev" aria-label="前: 穴あけガイドを買ってみた">
            <div class="md-footer__button md-icon">
              
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
            </div>
            <div class="md-footer__title">
              <span class="md-footer__direction">
                前
              </span>
              <div class="md-ellipsis">
                穴あけガイドを買ってみた
              </div>
            </div>
          </a>
        
        
          
          <a href="../../02/analog-discovery-3/" class="md-footer__link md-footer__link--next" aria-label="次: Analog Discovery 3">
            <div class="md-footer__title">
              <span class="md-footer__direction">
                次
              </span>
              <div class="md-ellipsis">
                Analog Discovery 3
              </div>
            </div>
            <div class="md-footer__button md-icon">
              
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11z"/></svg>
            </div>
          </a>
        
      </nav>
    
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    
      
      <script id="__config" type="application/json">{"base": "../../../../..", "features": ["navigation.footer", "content.code.copy", "navigation.indexes"], "search": "../../../../../assets/javascripts/workers/search.f8cc74c7.min.js", "tags": null, "translations": {"clipboard.copied": "\u30b3\u30d4\u30fc\u3057\u307e\u3057\u305f", "clipboard.copy": "\u30af\u30ea\u30c3\u30d7\u30dc\u30fc\u30c9\u3078\u30b3\u30d4\u30fc", "search.result.more.one": "\u3053\u306e\u30da\u30fc\u30b8\u5185\u306b\u3082\u30461\u4ef6\u898b\u3064\u304b\u308a\u307e\u3057\u305f", "search.result.more.other": "\u3053\u306e\u30da\u30fc\u30b8\u5185\u306b\u3042\u3068#\u4ef6\u898b\u3064\u304b\u308a\u307e\u3057\u305f", "search.result.none": "\u4f55\u3082\u898b\u3064\u304b\u308a\u307e\u305b\u3093\u3067\u3057\u305f", "search.result.one": "1\u4ef6\u898b\u3064\u304b\u308a\u307e\u3057\u305f", "search.result.other": "#\u4ef6\u898b\u3064\u304b\u308a\u307e\u3057\u305f", "search.result.placeholder": "\u691c\u7d22\u30ad\u30fc\u30ef\u30fc\u30c9\u3092\u5165\u529b\u3057\u3066\u304f\u3060\u3055\u3044", "search.result.term.missing": "\u691c\u7d22\u306b\u542b\u307e\u308c\u306a\u3044", "select.version": "\u30d0\u30fc\u30b8\u30e7\u30f3\u5207\u308a\u66ff\u3048"}, "version": null}</script>
    
    
      <script src="../../../../../assets/javascripts/bundle.c8b220af.min.js"></script>
      
        <script src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
      
    
  </body>
</html>